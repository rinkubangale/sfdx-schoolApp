<template>
    <div class="container">
        <div class="topContainer">
            <div class="searchBar slds-align_absolute-center">
                <input type="text" placeholder="Search Classroom" />
            </div>
        </div>
        <div class="midContainer">
            <lightning-tabset>
                <lightning-tab label="Class">
                    <div class="clsContent">
                        <span class="class">
                            <span class="section">LKG</span>
                        </span>
                        <span class="class">
                            <span class="section">UKG</span>
                        </span>
                        <span class="class">
                            <span class="section">1st</span>
                        </span>
                        <span class="class">
                            <span class="section">2nd</span>
                        </span>
                    </div>
                </lightning-tab>
                <lightning-tab label="Classrooms">
                    <div class="clsContent">
                        <span class="class">
                            <span class="section">LKG - A</span>
                        </span>
                        <span class="class">
                            <span class="section">UKG - A</span>
                        </span>
                        <span class="class">
                            <span class="section">UKG - B</span>
                        </span>
                    </div>
                </lightning-tab>
            </lightning-tabset>
        </div>
        <div class="bottomContainer">
            <lightning-tabset>
                <lightning-tab label="Overview">
                    <div class="overviewContent">
                        <div class=attendance>
                            <div class="attendanceClass">
                                <div>Class Name <span>LKG</span></div>
                                <div>Admin Teacher <span>Sumathy</span></div>
                            </div>
                            <div class="atndBtn" onclick={togglePopup}>
                                <span>Assign Teacher</span>
                            </div>
                        </div>

                        <div class=students>
                            <span>No. of Students</span>
                            <span>120</span>
                            <span>Boys</span>
                            <span>70</span>
                            <span>Girls</span>
                            <span>50</span>
                        </div>

                        <div class=performance>
                            <div onclick={showClassPerformance}>Class Performance</div>
                            <div>
                                <span>
                                    <div>Academics</div>
                                    <div>80%</div>
                                </span>
                                <span>
                                    <div>Co-curricular</div>
                                    <div>90%</div>
                                </span>
                                <span>
                                    <div>Attendance</div>
                                    <div>80%</div>
                                </span>
                                <div class="prfoBtn" onclick={togglePerformance}>
                                    <span>Class Performance</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </lightning-tab>
                <lightning-tab label="Timetable">
                    <div if:false={isTimetable} class="timetable">
                        <span class="span" onclick={showTimetable}>Timetable Schedule +</span>
                    </div>
                    <div if:true={isTimetable} class="slds-clearfix timetableClicked">
                        <div if:true={columns} class="calenderView">
                            <div>
                                <table>
                                    <tr>
                                        <th>
                                            <span>Time</span>
                                            <p>Periods</p>
                                        </th>
                                        <th for:each={columns} for:item="time" key={time}>
                                            <span>{time.strtime}</span> - <span>{time.endtime}</span>
                                            <p>{time.sr}</p>
                                        </th>
                                    </tr>
                                    <tr>
                                        <td>Mon</td>
                                        <td for:each={columns} for:item="time" key={time}>
                                            <span>{time.subject}</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Tue</td>
                                        <td for:each={columns} for:item="time" key={time}>
                                            <span>{time.subject}</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Wed</td>
                                        <td for:each={columns} for:item="time" key={time}>
                                            <span>{time.subject}</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Thu</td>
                                        <td for:each={columns} for:item="time" key={time}>
                                            <span>{time.subject}</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Fri</td>
                                        <td for:each={columns} for:item="time" key={time}>
                                            <span>{time.subject}</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Sat</td>
                                        <td for:each={columns} for:item="time" key={time}>
                                            <span>{time.subject}</span>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </lightning-tab>


                <lightning-tab label="Curriculum">
                    <div class="curriculumSetup">
                        <div class="setupHeader">
                            No of terms: <input type="number" placeholder="3" />
                        </div>
                        <div class="setupBody">
                            <table>
                                <tr>
                                    <th>Terms</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Duration in months</th>
                                </tr>
                                <tr>
                                    <td>Term 1</td>
                                    <td>27/12/2022</td>
                                    <td>27/12/2022</td>
                                    <td>3</td>
                                </tr>
                                <tr>
                                    <td>Term 2</td>
                                    <td>27/12/2022</td>
                                    <td>27/12/2022</td>
                                    <td>4</td>
                                </tr>
                                <tr>
                                    <td>Term 3</td>
                                    <td>27/12/2022</td>
                                    <td>27/12/2022</td>
                                    <td>4</td>
                                </tr>
                            </table>
                        </div>
                        <div class="setupFooter slds-clearfix">
                            <lightning-button label="Cancel" title="Cancel" onclick={handleCancel}
                                class="slds-m-left_x-small slds-float_right"></lightning-button>
                            <lightning-button variant="brand" label="Save" title="Save" onclick={handleSave}
                                class="slds-m-left_x-small slds-float_right"></lightning-button>
                        </div>
                    </div>
                </lightning-tab>
                <lightning-tab label="Assignments">
                    <!-- Four Content ! -->
                    <div class="slds-clearfix">
                        <div class="prfoBtn slds-float_right" onclick={openCalendar}>
                            <span>
                                <lightning-icon icon-name="utility:event" alternative-text="Calendar" variant="inverse"
                                    size="small" title="Calendar">
                                </lightning-icon>
                                Calendar
                            </span>
                        </div>
                    </div>
                    <lightning-datatable key-field="Id" data={dataList} columns={column} onrowaction={rowActionHandler}
                        resize-column-disabled suppress-bottom-bar>
                    </lightning-datatable>
                </lightning-tab>
                <lightning-tab label="Exam Result">
                    <div if:false={showResultTB}>
                        <div class="filterResult">
                            <div class="resultDivClass">
                                <div class="exResult">Exam Term <span>Term 1</span></div>
                                <div class="exResult">Select Class <span>LKG</span></div>
                            </div>
                            <div class="resultDivClass">
                                <div>
                                    <label for="subjectLabels">Subjects</label>
                                    <select name="subjects" id="subjectLabels">
                                        <option value="English">English</option>
                                        <option value="Hindi">Hindi</option>
                                        <option value="Tamil">Tamil</option>
                                        <option value="Physics">Physics</option>
                                    </select>
                                </div>
                                <div class="filterBtn" onclick={togglePopup}>
                                    <span>Apply</span>
                                </div>
                            </div>
                        </div>

                        <div class="showResultTb">
                            <table>
                                <tr>
                                    <th>#</th>
                                    <th>Name</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>English</td>
                                    <td>12/27/2022</td>
                                    <td>
                                        <select>
                                            <option value="Pending">Pending</option>
                                            <option value="Done">Done</option>
                                        </select>
                                    </td>
                                    <td>
                                        <span>
                                            <span class="tbtn" onclick={handleShowResult}>Result</span>
                                            <span class="tbtn">Delete</span>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div if:true={showResultTB}>
                        <div class="resHeader">
                            <div class="backBtnDiv" onclick={handleShowResult}>
                                <a>
                                    <lightning-icon icon-name="utility:back" alternative-text="Back" title="Back"
                                        size="x-small"></lightning-icon>
                                    <p>Back</p>
                                </a>
                            </div>
                            <div>
                                <input type="text" placeholder="Search Students" />
                            </div>
                            <div>
                                <div class="btnGrp">
                                    <span>Contribution</span>
                                    <span>Calculate</span>
                                    <span>Publish</span>
                                </div>
                            </div>
                        </div>
                        <div class="resBody">
                            <table>
                                <tr>
                                    <th>#</th>
                                    <th>Student Name</th>
                                    <th>Grade</th>
                                    <th>%</th>
                                    <th>Ranks</th>
                                    <th>Marks</th>
                                    <th>Absent/Present</th>
                                    <th>Comments</th>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>Ramsath D</td>
                                    <td>auto</td>
                                    <td>auto</td>
                                    <td>auto</td>
                                    <td>
                                        <input type="number" />
                                    </td>
                                    <td>
                                        <span class="atnp">P</span>
                                        <span class="atnp">A</span>
                                    </td>
                                    <td>
                                        <textarea></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Pravna d</td>
                                    <td>auto</td>
                                    <td>auto</td>
                                    <td>auto</td>
                                    <td>
                                        <input type="number" />
                                    </td>
                                    <td>
                                        <span class="atnp">P</span>
                                        <span class="atnp">A</span>
                                    </td>
                                    <td>
                                        <textarea></textarea>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="resFooter"></div>
                    </div>
                </lightning-tab>
            </lightning-tabset>
        </div>
    </div>
    <!-- <c-student-attendance if:true={showPopup} onclose={togglePopup}></c-student-attendance> -->
    <template if:true={showPerformance}>
        <div class="popupGreyout">
            <div class="showPerform slds-clearfix">
                <lightning-icon class="slds-float_right" icon-name="utility:close" onclick={togglePerformance}
                    alternative-text="Close" size="small" title="Close"></lightning-icon>
                <lightning-tabset>
                    <lightning-tab label="Student Wise">
                        <div class="studentwise">
                            <div class="sortFunc">
                                <div>
                                    <label for="term">Terms</label>
                                    <select name="term" id="term">
                                        <option value="Term 1">Term 1</option>
                                        <option value="Term 2">Term 2</option>
                                        <option value="Term 3">Term 3</option>
                                    </select>
                                </div>
                                <div>
                                    <span onclick={handleGradeSetup}>Grade Settings</span>
                                </div>
                            </div>
                            <div class="tabledata">
                                <div>
                                    <table>
                                        <tr>
                                            <th>Name</th>
                                            <th class="tableHeaderLink" onclick={toggleAcademics}>Academics</th>
                                            <th class="tableHeaderLink" onclick={toggleCurricular}>Curricular Activities
                                            </th>
                                            <th class="tableHeaderLink" onclick={toggleAttend}>Attendance</th>
                                        </tr>
                                        <tr>
                                            <td>Hari</td>
                                            <td>A+</td>
                                            <td>A</td>
                                            <td>B</td>
                                        </tr>
                                        <tr>
                                            <td>Neel</td>
                                            <td>A</td>
                                            <td>A</td>
                                            <td>B</td>
                                        </tr>
                                        <tr>
                                            <td>Samuel</td>
                                            <td>A+</td>
                                            <td>A</td>
                                            <td>B</td>
                                        </tr>
                                        <tr>
                                            <td>Nirosha</td>
                                            <td>A</td>
                                            <td>A</td>
                                            <td>B</td>
                                        </tr>
                                        <tr>
                                            <td>Priya</td>
                                            <td>B</td>
                                            <td>A</td>
                                            <td>B</td>
                                        </tr>
                                    </table>

                                    <template if:true={showAcademics}>
                                        <table>
                                            <tr>
                                                <th>Name</th>
                                                <th>English</th>
                                                <th>Tamil</th>
                                                <th>Hindi</th>
                                                <th>EVS</th>
                                                <th>CSC</th>
                                                <th>Total</th>
                                                <th>Action</th>
                                            </tr>
                                            <tr>
                                                <td>Hari</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Neel</td>
                                                <td>A</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Samuel</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Nirosha</td>
                                                <td>A</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Priya</td>
                                                <td>B</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                        </table>
                                    </template>
                                    <template if:true={showCurricular}>
                                        <table>
                                            <tr>
                                                <th>Name</th>
                                                <th>Games</th>
                                                <th>Arts/Craft</th>
                                                <th>Health</th>
                                                <th>Discipline</th>
                                                <th>Total</th>
                                                <th>Action</th>
                                            </tr>
                                            <tr>
                                                <td>Hari</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Neel</td>
                                                <td>A</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Samuel</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Nirosha</td>
                                                <td>A</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Priya</td>
                                                <td>B</td>
                                                <td>B</td>
                                                <td>A+</td>
                                                <td>A</td>
                                                <td>B</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                        </table>
                                    </template>
                                    <template if:true={showAttendance}>
                                        <table>
                                            <tr>
                                                <th>Name</th>
                                                <th>Term 1
                                                    <p>68</p>
                                                </th>
                                                <th>Term 2
                                                    <p>75</p>
                                                </th>
                                                <th>Term 3
                                                    <p>80</p>
                                                </th>
                                                <th>Total
                                                    <p>223</p>
                                                </th>
                                                <th>Grading</th>
                                                <th>Action</th>
                                            </tr>
                                            <tr>
                                                <td>Hari</td>
                                                <td>65</td>
                                                <td>69</td>
                                                <td>80</td>
                                                <td>96%</td>
                                                <td>A+</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Neel</td>
                                                <td>65</td>
                                                <td>69</td>
                                                <td>80</td>
                                                <td>96%</td>
                                                <td>A+</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Samuel</td>
                                                <td>65</td>
                                                <td>69</td>
                                                <td>80</td>
                                                <td>96%</td>
                                                <td>A+</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Nirosha</td>
                                                <td>65</td>
                                                <td>69</td>
                                                <td>80</td>
                                                <td>96%</td>
                                                <td>A+</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Priya</td>
                                                <td>65</td>
                                                <td>69</td>
                                                <td>80</td>
                                                <td>96%</td>
                                                <td>A+</td>
                                                <td>
                                                    <a>View</a>/
                                                    <a>Edit</a>
                                                </td>
                                            </tr>
                                        </table>
                                    </template>
                                </div>
                                <div if:true={gradeSetup}>
                                    <div class="gradeSetup">
                                        <span> <b>GRADE SETUP</b> </span>
                                        <span class="closeGradeSetup" onclick={handleGradeSetup}>Close</span>
                                    </div>
                                    <div>
                                        <table>
                                            <tr>
                                                <th>MARKS RANGE</th>
                                                <th>GRADE</th>
                                            </tr>
                                            <tr>
                                                <td>91 - 100</td>
                                                <td>A1</td>
                                            </tr>
                                            <tr>
                                                <td>81 - 90</td>
                                                <td>A2</td>
                                            </tr>
                                            <tr>
                                                <td>71 - 80</td>
                                                <td>B1</td>
                                            </tr>
                                            <tr>
                                                <td>61 - 70</td>
                                                <td>B2</td>
                                            </tr>
                                            <tr>
                                                <td>51 - 60</td>
                                                <td>C1</td>
                                            </tr>
                                            <tr>
                                                <td>41 - 50 <br> 31 - 40</td>
                                                <td>C2</td>
                                            </tr>
                                            <tr>
                                                <td>33 - 40</td>
                                                <td>D</td>
                                            </tr>
                                            <tr>
                                                <td>32 & Below</td>
                                                <td>E (Needs Improvements)</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div>
                                        <span><b>Grading Scale for others</b></span>
                                        <table>
                                            <tr>
                                                <th>MARKS RANGE</th>
                                                <th>GRADE</th>
                                            </tr>
                                            <tr>
                                                <td>Outstanding</td>
                                                <td>A</td>
                                            </tr>
                                            <tr>
                                                <td>Very Good</td>
                                                <td>B</td>
                                            </tr>
                                            <tr>
                                                <td>Fair</td>
                                                <td>C</td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div>
                                        <span><b>Attendance Grading Scale</b></span>
                                        <table>
                                            <tr>
                                                <th>MARKS RANGE</th>
                                                <th>GRADE</th>
                                            </tr>
                                            <tr>
                                                <td>91-100</td>
                                                <td>A1</td>
                                            </tr>
                                            <tr>
                                                <td>81-90</td>
                                                <td>A2</td>
                                            </tr>
                                            <tr>
                                                <td>71-80</td>
                                                <td>B1</td>
                                            </tr>
                                            <tr>
                                                <td>61-70</td>
                                                <td>B2</td>
                                            </tr>
                                            <tr>
                                                <td>51-60</td>
                                                <td>C1</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </lightning-tab>
                </lightning-tabset>
            </div>
        </div>
    </template>

    <template if:true={calendarView}>
        <div class="popupGreyout">
            <div class="showPerform slds-clearfix">
                <lightning-icon class="slds-float_right" icon-name="utility:close" onclick={openCalendar}
                    alternative-text="Close" size="small" title="Close"></lightning-icon>
                <div style="height:auto" if:true={calendarView}>
                    <c-full-calendar-js></c-full-calendar-js>
                </div>
            </div>
        </div>
    </template>
</template>